<!DOCTYPE html>
<html lang="en">
  <head>
    <title>PickUp</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./files/css/lobbystyle.css">
  </head>
  <body>
    
    <div id="content" class="maxWidth maxHeight">
      <div id="topbar">
        <a href="https://www.google.com"><span>PickUp</span></a>
        <div>
          <a href="https://www.google.com"><img class="topimg" id="profile" src="./files/images/profile.png" alt="profile" /></a>
          <a href="https://www.google.com"><img class="topimg" src="./files/images/settings.png" alt="settings" /></a>
        </div>
      </div>
      <div id="leftbar">
        <div id="friendstab">
        </div>
      </div>
      <div id="roomdiv">
        <div id="roominfodiv">
          <div id="roominfo">
            <h1><span>Bob Upendown's Lobby</span></h1>
            <h2><span>Soccer</span></h2>
            <span>April 29th, 2018<br/>Skill Level: 1-5</span>
          </div>
        </div>
        <div id="teamsdiv">
          <div id="teams">
            <div id="legend">
              <div id="karma">
                <span>Karma</span>
              </div>
              <div id="players">
                <span>Player</span>
              </div>
            </div>
            <span class="team">Team 1</span>
            <div id="teamone">
              
            </div>
          </div>
        </div>
        <div id="teamsdivtwo">
          <div id="teamstwo">
            <span class="team">Team 2</span>
            <div id="teamtwo">
              
            </div>
          </div>
        </div>
        <div id="locationdiv">
          <div id="location">
            <span>MAP</span>
          </div>
        </div>
        <div id="joindiv">
          <button id='joinbutton' onclick="window.location.href='https://www.google.com'">Join</button>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>
        /*<![CDATA[*/
        var chatcount = 0;

        function myMap() {
          var mapProp = {
              center:new google.maps.LatLng(49.2835, -123.1153),
              zoom: 15,
            };
          var map = new google.maps.Map(document.getElementById("location"),mapProp);
          var marker = new google.maps.Marker({
            position: new google.maps.LatLng(49.2835, -123.1153),
            map: map,
            title: 'Hello World!'
          });
        }

        function partymember(username, karma, team){
          var player = $("<div class='member'></div>");
          var playernamediv = $("<div class='playernamediv'></div>");
          var playername = $("<span class='playername'></span>");
          var playerkarmadiv = $("<div class='playerkarmadiv'></div>");
          var playerkarma = $("<span class='playerkarma'></span>");

          $(playerkarma).html(karma);
          $(playername).html(username);

          $(playerkarmadiv).append(playerkarma);
          $(playernamediv).append(playername);
          $(player).append(playerkarmadiv);
          $(player).append(playernamediv);

          if(team == "teamone") {
            $("#teamone").append(player);
          } else if (team == "teamtwo") {
            $("#teamtwo").append(player);
          } else {
            return;
          }
        }

        function friends(name, status){
          var friend = $("<div class='friend'></div>");
          $(friend).attr("ondblclick", "window.location.href='https://www.google.com'");

          var stat = $("<div class='stat'></div>");

          var online = {"background-color": "green"};
          var offline = {"background-color": "red"};

          var namediv = $("<div class='namediv'></div>");
          var username = $("<span class='username'></span>");
          $(username).html(name);

          if(status == "online"){
            $(stat).css(online);
              $("#leftbar").prepend(friend);
          } else {
            $(stat).css(offline);
              $("#leftbar").append(friend);
          }

          $(friend).append(stat);
          $(friend).append(namediv);
          $(namediv).append(username);
        }

        function chats(name, chattext){
          chatcount++;
          var chatDiv = $("<div class='chat'></div>");
          var chatcontent = $("<p></p>");

          var textform = $("<form class='textform'></form>");
          var textinput = $("<input class='textinput' type='text' name='text' placeholder='Enter Text' autocomplete='off'/>");
          var textsubmit = $("<input class='textinput' type='image' name='submit' src='./files/images/enter.png' alt='enter'/>");

          $(textform).append(textinput);
          $(textform).append(textsubmit);
          $(chatDiv).append(textform);

          $(chatcontent).html(chattext);

          var button = $("<button class='collapsible'></button>");
          $(button).html(name);

          $("#friendstab").append(chatDiv);
          $(chatDiv).append(chatcontent);
          $("#friendstab").append(button);
        }

        $(document).ready(function() {
          $("#slideshow > div:gt(0)").hide();

          setInterval(function() { 
            $('#slideshow > div:first')
              .fadeOut(0)
              .next()
              .fadeIn(1000)
              .end()
              .appendTo('#slideshow');
          },  15000);



          friends("Alec Martin", "online");
          friends("Will Loftus", "offline");
          friends("Stella Tran", "offline");
          friends("Jeavin Shoker", "offline");
          friends("Emilio Ditrocchio", "online");
          friends("Edward Lee", "online");
          friends("Kevin Park", "online");

          chats("Kevin", "Kevin: Hey, how's it going?");

          var coll = document.getElementsByClassName("collapsible");
          var i;

          for (i = 0; i < coll.length; i++) {
            coll[i].addEventListener("click", function() {
              this.classList.toggle("active");
              var content = this.previousElementSibling;
              if (content.style.display === "block") {
                content.style.display = "none";
              } else {
                content.style.display = "block";
              }
            });
          }

          var addlink = $("<a></a>");
          $(addlink).attr("href", "https://www.google.com");

          var addicon = $("<img id='addicon' alt='Add Friend' src='./files/images/addfriendwhite.png'>");
          $("#friendstab").append(addlink);
          $(addlink).append(addicon);

          partymember("Kevin", "5000", "teamone");
          partymember("Will", "5000", "teamtwo");
          partymember("Jeavin", "4000", "teamone");
          partymember("Alec", "6000", "teamtwo");
          partymember("Stella", "3000", "teamtwo");
          partymember("Rose", "4000", "teamtwo");
          partymember("Hannah", "7000", "teamone");
          partymember("Edward", "9999", "teamone");


        });
        /*]]>*/
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD0bFMT_-dlAfllbPc2rJXhZRnrJIERwv8&callback=myMap"></script>  
  </body>
</html>
